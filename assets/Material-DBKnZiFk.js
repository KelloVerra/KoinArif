import{c as j,a as v,u as m,r as c,g as b,h as p,i as f,k as N,l as g,j as a,b as y,m as e}from"./index-BCSKgTpG.js";import k from"./NotFound-BDdBPZbV.js";import{M,A as z}from"./PrimaryArrowGo-EaiVcE6C.js";function q(){const t=j(),s=v(),l=m(i=>i.user.value),n=m(i=>i.material.value),d=!l.hasStarted||l.history.length===0,r=c.useRef((i=>{if(d)return{id:-1,error:1,component:null};const o=l.history[0].data.material_id,u=b(o);return u.error&&console.warn(`unable to obtain material index of ${o}`),u})()),h=c.useCallback(i=>{s(p({type:"quiz",data:{material:{id:r.current.id,terms:r.current.terms}}})),s(f(n.materialLevel)),s(N()),s(g({level:n.materialLevel,material:r.current})),t("/quiz")},[r.current]),x=c.useCallback(i=>{t("/")},[]);return a.jsx(a.Fragment,{children:r.current.error?a.jsx(k,{}):a.jsx(L,{receivedMaterialData:r.current,goHome:x,startQuiz:h})})}function L({receivedMaterialData:t,goHome:s,startQuiz:l}){const n=y();return a.jsxs("div",{className:e.content,children:[a.jsxs("div",{className:e["header-container"],children:[a.jsxs("div",{className:e.textart,children:[a.jsxs("p",{className:e.lvl,children:["Materi Level ",t.id+1,"   •   ",t.estimateDuration]}),a.jsx("h1",{className:e.header,children:t.title})]}),n?null:a.jsx(M,{scale:1.45,className:e.mascot})]}),a.jsx("div",{className:e["material-container"],children:t.component()}),a.jsxs("button",{onClick:l,className:e["start-quiz-btn"],children:["Mulai Kuis Latihan ",t.title,a.jsx("img",{src:z,alt:"",width:"5"})]}),a.jsx("button",{className:e["back-btn"],onClick:s,children:"Kembali ke halaman utama"})]})}export{q as default};
