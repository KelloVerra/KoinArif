const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MascotCelebrate-DgFtdsZe.js","assets/index-MmeLpQ1v.js","assets/index-KEO2-_ft.css","assets/anime.esm-B3Hnizxl.js","assets/main.module-R9lq20Ek.js","assets/main-B47H01E1.css","assets/MascotAdmire-vjM_P1hy.js","assets/MascotNerd-Q1uBMSW9.js","assets/MascotIdle-BPrW3QWi.js","assets/MascotSurprised-BZ7iEgRp.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,f as g,L as v,_ as p,c as b,a as y,u as f,q as I,t as w,v as k,w as E,b as N,z as x,i as j,x as q,y as Q,A as S,B as C,C as R}from"./index-MmeLpQ1v.js";import M from"./NotFound-D0TN0C-t.js";const A="_content_1pfsj_1",L="_leftovr_1pfsj_97",F="_mascot_1pfsj_331",s={content:A,"gradient-heading":"_gradient-heading_1pfsj_17","quiz-mascot-container":"_quiz-mascot-container_1pfsj_29","quiz-mascot":"_quiz-mascot_1pfsj_29","quiz-detail-container":"_quiz-detail-container_1pfsj_51","quiz-header":"_quiz-header_1pfsj_57","quiz-stat-container":"_quiz-stat-container_1pfsj_71",leftovr:L,"quiz-reward-display":"_quiz-reward-display_1pfsj_109","quiz-question-container":"_quiz-question-container_1pfsj_135","quiz-confirm-btn":"_quiz-confirm-btn_1pfsj_175","multchoice-quiz-option-container":"_multchoice-quiz-option-container_1pfsj_235","multchoice-quiz-option":"_multchoice-quiz-option_1pfsj_235","multchoice-quiz-option-correct":"_multchoice-quiz-option-correct_1pfsj_293","anim-quiz-correct-option-0":"_anim-quiz-correct-option-0_1pfsj_1","multchoice-quiz-option-incorrect":"_multchoice-quiz-option-incorrect_1pfsj_305","anim-quiz-incorrect-option-0":"_anim-quiz-incorrect-option-0_1pfsj_1","quiz-fin-header":"_quiz-fin-header_1pfsj_325",mascot:F,"quiz-fin-content":"_quiz-fin-content_1pfsj_351","quiz-fin-stat-container":"_quiz-fin-stat-container_1pfsj_359","quiz-fin-stat-coin":"_quiz-fin-stat-coin_1pfsj_375","quiz-fin-stat-lvl":"_quiz-fin-stat-lvl_1pfsj_375","quiz-fin-stat-accuracy":"_quiz-fin-stat-accuracy_1pfsj_375","anim-quiz-fin-stat":"_anim-quiz-fin-stat_1pfsj_1","quiz-fin-btn":"_quiz-fin-btn_1pfsj_435"},D="/KoinArif/CheckBadge.svg",T=i.lazy(t=>p(()=>import("./MascotCelebrate-DgFtdsZe.js"),__vite__mapDeps([0,1,2,3,4,5]))),P=i.lazy(t=>p(()=>import("./MascotAdmire-vjM_P1hy.js"),__vite__mapDeps([6,1,2,3,4,5]))),K=i.lazy(t=>p(()=>import("./MascotNerd-Q1uBMSW9.js"),__vite__mapDeps([7,1,2,3,4,5])));function O({scale:t,className:a}){const r=i.useRef([e.jsx(P,{scale:1*t,className:a}),e.jsx(K,{scale:t*.9,className:a}),e.jsx(T,{scale:1.125*t,className:a})]),c=i.useRef(g(r.current.length));return e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:r.current[c.current]})}const V=i.lazy(t=>p(()=>import("./MascotCelebrate-DgFtdsZe.js"),__vite__mapDeps([0,1,2,3,4,5]))),$=i.lazy(t=>p(()=>import("./MascotAdmire-vjM_P1hy.js"),__vite__mapDeps([6,1,2,3,4,5]))),B=i.lazy(t=>p(()=>import("./MascotIdle-BPrW3QWi.js"),__vite__mapDeps([8,1,2,3,4,5]))),G=i.lazy(t=>p(()=>import("./MascotSurprised-BZ7iEgRp.js"),__vite__mapDeps([9,1,2,3,4,5])));function U({scale:t,state:a}){const r=i.useRef(0),c=u=>[_=>e.jsx(B,{scale:t,className:s["quiz-mascot"]}),_=>[e.jsx(V,{scale:t*1.25,className:s["quiz-mascot"]}),e.jsx($,{scale:t*1.2,className:s["quiz-mascot"]})][r.current],_=>e.jsx(G,{scale:t*1,className:s["quiz-mascot"]})],[o,l]=i.useState(c()[a]());return i.useEffect(u=>{r.current=g(2),l(c()[a]())},[a]),e.jsx(i.Suspense,{fallback:e.jsx(v,{}),children:o})}function Z(){const t=b(),a=y(),r=f(n=>n.user.value);f(n=>n.material.value);const c=f(n=>n.quiz.value),o=c.generatedQuizes[c.currentGeneratedQuizIndex],l=!r.hasStarted||!o,u=i.useRef(!1);i.useEffect(n=>{u.current||(c.answeredQuizes[c.currentGeneratedQuizIndex]&&d(),u.current=!0)},[]);const _=i.useCallback(n=>a(I({...n}))),d=i.useCallback(n=>{window.scrollTo(0,0),a(w()),c.currentGeneratedQuizIndex>=c.generatedQuizes.length-1&&(a(k(r.history[0].type==="empty"?r.history[1].data.material.id:r.history[0].data.material.id)),a(E({})))},[c.currentGeneratedQuizIndex]),m=i.useCallback(n=>{t("/")},[]);return e.jsx(e.Fragment,{children:l?e.jsx(M,{}):e.jsx("div",{className:s.content,children:c.quizCompletionRecapData.finished?e.jsx(J,{onConfirmEnd:m}):e.jsx(H,{state:c,quiz:o,onNextQuestion:d,addAnswerState:_})})})}function H({state:t,quiz:a,onNextQuestion:r,addAnswerState:c}){const[o,l]=i.useState(!1),u=t.generatedQuizes[t.currentGeneratedQuizIndex].reward,[_,d]=i.useState(0);i.useEffect(h=>{l(!1),d(0)},[a]);const m=h=>{l(!0),d(h?1:2)},n=h=>{switch(a.display_format){case 0:return e.jsx(W,{data:a,confirmable:{state:o,trigger:m},addAnswerState:c,reward:u})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s["quiz-header"],children:[e.jsx("div",{className:s["quiz-mascot-container"],children:e.jsx(U,{scale:1.25,state:_})}),e.jsxs("div",{className:s["quiz-detail-container"],children:[e.jsxs("div",{className:s["quiz-stat-container"],children:[e.jsxs("h1",{children:["Quiz ",t.currentGeneratedQuizIndex+1]}),e.jsxs("h1",{className:s.leftovr,children:["/",t.generatedQuizes.length]}),e.jsxs("div",{className:s["quiz-reward-display"],children:[e.jsx("img",{src:j,alt:"coinIcon",width:"20"}),e.jsxs("p",{children:["+",u," koin"]})]})]}),e.jsx("div",{className:s["quiz-question-container"],children:e.jsx("p",{children:a.question})})]})]}),n(),e.jsx("button",{className:s["quiz-confirm-btn"],disabled:!o,onClick:h=>r(),children:"Lanjut"})]})}function W({data:t,confirmable:a,addAnswerState:r,reward:c}){const[o,l]=i.useState(-1),[u,_]=i.useState("multchoice-quiz-option-incorrect"),d=N();return i.useEffect(m=>{if(o===-1)return;const n=t.options[o],z=R(n.parent_format).is_options_correct(n);_(z?"multchoice-quiz-option-correct":"multchoice-quiz-option-incorrect"),r({quiz_data:t,accuracy:z?1:0,gotReward:z?c:0}),a.trigger(z)},[o]),i.useEffect(m=>{a.state||l(-1)},[a.state]),e.jsx("div",{className:s["multchoice-quiz-option-container"],deps:[a.state,t,o,u],style:{gridTemplateColumns:`repeat(${d?1:t.options.length}, 1fr)`},children:Array.from({length:t.options.length}).map((m,n)=>e.jsxs("button",{className:`${s["multchoice-quiz-option"]} ${s[o===n?u:""]}`,onClick:h=>l(n),disabled:a.state,children:[" ",t.options[n].desc," "]},n))})}function J({onConfirmEnd:t}){const a=f(n=>n.quiz.value),r=f(n=>n.user.value),c=y(),o=N(),l=i.useRef((n=>{const h=[e.jsxs(e.Fragment,{children:["Waw! Kamu ",e.jsx("span",{className:s["gradient-heading"],children:"Keren banget!"})]}),e.jsxs(e.Fragment,{children:["Kerja bagus! Ini langkah kecil ke ",e.jsx("span",{className:s["gradient-heading"],children:"hasil yang besar."})]}),e.jsxs(e.Fragment,{children:["Tuntas deh! siap untuk yang ",e.jsx("span",{className:s["gradient-heading"],children:"berikutnya?"})]}),e.jsxs(e.Fragment,{children:["Nilai tak segalanya, ",e.jsx("span",{className:s["gradient-heading"],children:"usahamu-lah yang lebih berharga."})]}),e.jsxs(e.Fragment,{children:["Bangga dong, kamu sudah ",e.jsx("span",{className:s["gradient-heading"],children:"satu langkah lebih pintar!"})]}),e.jsxs(e.Fragment,{children:["Kesalahan itu ",e.jsx("span",{className:s["gradient-heading"],children:"guru terbaik"}),", terus belajar, terus tumbuh."]}),e.jsxs(e.Fragment,{children:["Kamu nggak harus sempurna kok! ",e.jsx("span",{className:s["gradient-heading"],children:"cukup terus berkembang."})]})];return h[g(h.length)]})()),u=a.quizCompletionRecapData.totalReward,_=a.quizCompletionRecapData.accuracy,d=r.history[1].type==="quiz"?r.history[1].data.material.id===a.prevMaterialLvl:!1,m=i.useRef(!1);return i.useEffect(n=>{m.current||r.history[0].type=="quiz"&&(x.success(`+${u} Koin`,{icon:e.jsx("img",{src:j,alt:"[coinIcon]",width:"5",style:{height:"1.618rem",width:"auto"}})}),r.history[0].data.material.id===a.prevMaterialLvl&&x.success("Level Up",{icon:e.jsx("img",{src:q,alt:"[levelIcon]",width:"5",style:{height:"1.618rem",width:"auto"}})}),c(Q(r.history[0].data.material.id)),c(S()),c(C(u)),m.current=!0)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s["quiz-fin-header"],children:[e.jsx(O,{scale:o?1.75:1.25,className:s.mascot}),e.jsx("h2",{children:l.current})]}),e.jsxs("div",{className:s["quiz-fin-content"],children:[e.jsxs("div",{className:s["quiz-fin-stat-container"],style:{gridTemplateColumns:`repeat(${d?3:2}, 1fr)`},children:[e.jsxs("div",{className:s["quiz-fin-stat-coin"],children:[e.jsx("img",{src:j,alt:"[coinIcon]",width:"40px"}),e.jsxs("p",{children:["+",u," Koin"]})]}),e.jsxs("div",{className:s["quiz-fin-stat-accuracy"],children:[e.jsx("img",{src:D,alt:"[accuracyIcon]",width:"40px"}),e.jsxs("p",{children:[Math.round(_*100),"%"]})]}),d?e.jsxs("div",{className:s["quiz-fin-stat-lvl"],children:[e.jsx("img",{src:q,alt:"[levelIcon]",width:"40px"}),e.jsx("p",{children:"Level Up!"})]}):null]}),e.jsx("button",{onClick:t,className:s["quiz-fin-btn"],children:"Selesai"})]})]})}export{Z as default};
