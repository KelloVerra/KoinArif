const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MascotCelebrate-jtuH9LX3.js","assets/index-zLXZREDD.js","assets/index-BmNbeGzk.css","assets/main.module-C9wNpe0e.js","assets/main-B47H01E1.css","assets/MascotAdmire-Df_0gDKD.js","assets/MascotNerd-DmKFYgvw.js","assets/MascotIdle-fJc4CE8I.js","assets/MascotSurprised-BJaBzC4-.js"])))=>i.map(i=>d[i]);
import{r as s,j as e,d as x,L as f,_ as z,c as j,a as q,u as p,m as v,n as y,o as N,p as b,b as I,q as k,t as E,v as g,w as Q,x as w}from"./index-zLXZREDD.js";import S from"./NotFound-CpmI79E_.js";const C="_content_1ic26_1",R="_leftovr_1ic26_97",M="_mascot_1ic26_337",i={content:C,"gradient-heading":"_gradient-heading_1ic26_17","quiz-mascot-container":"_quiz-mascot-container_1ic26_29","quiz-mascot":"_quiz-mascot_1ic26_29","quiz-detail-container":"_quiz-detail-container_1ic26_51","quiz-header":"_quiz-header_1ic26_57","quiz-stat-container":"_quiz-stat-container_1ic26_71",leftovr:R,"quiz-reward-display":"_quiz-reward-display_1ic26_109","quiz-question-container":"_quiz-question-container_1ic26_135","quiz-confirm-btn":"_quiz-confirm-btn_1ic26_177","multchoice-quiz-option-container":"_multchoice-quiz-option-container_1ic26_237","multchoice-quiz-option":"_multchoice-quiz-option_1ic26_237","multchoice-quiz-option-correct":"_multchoice-quiz-option-correct_1ic26_295","anim-quiz-correct-option-0":"_anim-quiz-correct-option-0_1ic26_1","multchoice-quiz-option-incorrect":"_multchoice-quiz-option-incorrect_1ic26_309","anim-quiz-incorrect-option-0":"_anim-quiz-incorrect-option-0_1ic26_1","quiz-fin-header":"_quiz-fin-header_1ic26_331",mascot:M,"quiz-fin-content":"_quiz-fin-content_1ic26_357","quiz-fin-stat-container":"_quiz-fin-stat-container_1ic26_365","quiz-fin-stat-coin":"_quiz-fin-stat-coin_1ic26_381","anim-quiz-fin-stat":"_anim-quiz-fin-stat_1ic26_1","quiz-fin-stat-accuracy":"_quiz-fin-stat-accuracy_1ic26_421","quiz-fin-stat-lvl":"_quiz-fin-stat-lvl_1ic26_459","quiz-fin-btn":"_quiz-fin-btn_1ic26_499"},A="/KoinArif/CheckBadge.svg",F=s.lazy(t=>z(()=>import("./MascotCelebrate-jtuH9LX3.js"),__vite__mapDeps([0,1,2,3,4]))),L=s.lazy(t=>z(()=>import("./MascotAdmire-Df_0gDKD.js"),__vite__mapDeps([5,1,2,3,4]))),D=s.lazy(t=>z(()=>import("./MascotNerd-DmKFYgvw.js"),__vite__mapDeps([6,1,2,3,4])));function T({scale:t,className:n}){const r=s.useRef([e.jsx(L,{scale:1*t,className:n}),e.jsx(D,{scale:t*.9,className:n}),e.jsx(F,{scale:1.125*t,className:n})]),a=s.useRef(x(r.current.length));return e.jsx(s.Suspense,{fallback:e.jsx(f,{}),children:r.current[a.current]})}const P=s.lazy(t=>z(()=>import("./MascotCelebrate-jtuH9LX3.js"),__vite__mapDeps([0,1,2,3,4]))),O=s.lazy(t=>z(()=>import("./MascotAdmire-Df_0gDKD.js"),__vite__mapDeps([5,1,2,3,4]))),K=s.lazy(t=>z(()=>import("./MascotIdle-fJc4CE8I.js"),__vite__mapDeps([7,1,2,3,4]))),V=s.lazy(t=>z(()=>import("./MascotSurprised-BJaBzC4-.js"),__vite__mapDeps([8,1,2,3,4])));function G({scale:t,state:n}){const r=s.useRef(0),a=l=>[m=>e.jsx(K,{scale:t,className:i["quiz-mascot"]}),m=>[e.jsx(P,{scale:t*1.25,className:i["quiz-mascot"]}),e.jsx(O,{scale:t*1.2,className:i["quiz-mascot"]})][r.current],m=>e.jsx(V,{scale:t*1,className:i["quiz-mascot"]})],[o,d]=s.useState(a()[n]());return s.useEffect(l=>{r.current=x(2),d(a()[n]())},[n]),e.jsx(s.Suspense,{fallback:e.jsx(f,{}),children:o})}function J(){const t=j(),n=q(),r=p(c=>c.user.value);p(c=>c.material.value);const a=p(c=>c.quiz.value),o=a.generatedQuizes[a.currentGeneratedQuizIndex],d=!r.hasStarted||!o,l=s.useRef(!1);s.useEffect(c=>{l.current||(a.answeredQuizes[a.currentGeneratedQuizIndex]&&_(),l.current=!0)},[]);const m=s.useCallback(c=>n(v({...c}))),_=s.useCallback(c=>{window.scrollTo(0,0),n(y()),a.currentGeneratedQuizIndex>=a.generatedQuizes.length-1&&(n(N(r.history[0].type==="empty"?r.history[1].data.material.id:r.history[0].data.material.id)),n(b({})))},[a.currentGeneratedQuizIndex]),u=s.useCallback(c=>{t("/")},[]);return e.jsx(e.Fragment,{children:d?e.jsx(S,{}):e.jsx("div",{className:i.content,children:a.quizCompletionRecapData.finished?e.jsx(U,{onConfirmEnd:u}):e.jsx($,{state:a,quiz:o,onNextQuestion:_,addAnswerState:m})})})}function $({state:t,quiz:n,onNextQuestion:r,addAnswerState:a}){const[o,d]=s.useState(!1),l=t.generatedQuizes[t.currentGeneratedQuizIndex].reward,[m,_]=s.useState(0);s.useEffect(h=>{d(!1),_(0)},[n]);const u=h=>{d(!0),_(h?1:2)},c=h=>{switch(n.display_format){case 0:return e.jsx(B,{data:n,confirmable:{state:o,trigger:u},addAnswerState:a,reward:l})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:i["quiz-header"],children:[e.jsx("div",{className:i["quiz-mascot-container"],children:e.jsx(G,{scale:1.25,state:m})}),e.jsxs("div",{className:i["quiz-detail-container"],children:[e.jsxs("div",{className:i["quiz-stat-container"],children:[e.jsxs("h2",{children:["Quiz ",t.currentGeneratedQuizIndex+1]}),e.jsxs("h2",{className:i.leftovr,children:["/",t.generatedQuizes.length]}),e.jsxs("div",{className:i["quiz-reward-display"],children:[e.jsx("img",{src:g,alt:"coinIcon",width:"20"}),e.jsxs("p",{children:["+",l," koin"]})]})]}),e.jsx("div",{className:i["quiz-question-container"],children:e.jsx("p",{children:n.question})})]})]}),c(),e.jsx("button",{className:i["quiz-confirm-btn"],disabled:!o,onClick:h=>r(),children:"Lanjut"})]})}function B({data:t,confirmable:n,addAnswerState:r,reward:a}){const[o,d]=s.useState(-1),[l,m]=s.useState("multchoice-quiz-option-incorrect");return s.useEffect(_=>{if(o===-1)return;const u=t.options[o],h=w(u.parent_format).is_options_correct(u);m(h?"multchoice-quiz-option-correct":"multchoice-quiz-option-incorrect"),r({quiz_data:t,accuracy:h?1:0,gotReward:h?a:0}),n.trigger(h)},[o]),s.useEffect(_=>{n.state||d(-1)},[n.state]),e.jsx("div",{className:i["multchoice-quiz-option-container"],deps:[n.state,t,o,l],style:{gridTemplateColumns:`repeat(${t.options.length}, 1fr)`},children:Array.from({length:t.options.length}).map((_,u)=>e.jsxs("button",{className:`${i["multchoice-quiz-option"]} ${i[o===u?l:""]}`,onClick:c=>d(u),disabled:n.state,children:[" ",t.options[u].desc," "]},u))})}function U({onConfirmEnd:t}){const n=p(c=>c.quiz.value),r=p(c=>c.user.value),a=q(),o=I(),d=[e.jsxs(e.Fragment,{children:["Waw! Kamu ",e.jsx("span",{className:i["gradient-heading"],children:"Keren banget!"})]}),e.jsxs(e.Fragment,{children:["Kerja bagus! Ini langkah kecil ke ",e.jsx("span",{className:i["gradient-heading"],children:"hasil yang besar."})]}),e.jsxs(e.Fragment,{children:["Tuntas deh! siap untuk yang ",e.jsx("span",{className:i["gradient-heading"],children:"berikutnya?"})]}),e.jsxs(e.Fragment,{children:["Nilai tak segalanya, ",e.jsx("span",{className:i["gradient-heading"],children:"usahamu-lah yang lebih berharga."})]}),e.jsxs(e.Fragment,{children:["Bangga dong, kamu sudah ",e.jsx("span",{className:i["gradient-heading"],children:"satu langkah lebih pintar!"})]}),e.jsxs(e.Fragment,{children:["Kesalahan itu ",e.jsx("span",{className:i["gradient-heading"],children:"guru terbaik"}),", terus belajar, terus tumbuh."]}),e.jsxs(e.Fragment,{children:["Kamu nggak harus sempurna kok! ",e.jsx("span",{className:i["gradient-heading"],children:"cukup terus berkembang."})]})],l=n.quizCompletionRecapData.totalReward,m=n.quizCompletionRecapData.accuracy,_=s.useRef(!1);s.useEffect(c=>{_.current||r.history[0].type=="quiz"&&(a(k()),a(E(l)),_.current=!0)},[]);const u=r.history[1].type==="quiz"?r.history[1].data.material.id===n.prevMaterialLvl:!1;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:i["quiz-fin-header"],children:[e.jsx(T,{scale:o?1.75:1.25,className:i.mascot}),e.jsx("h2",{children:d[x(d.length)]})]}),e.jsxs("div",{className:i["quiz-fin-content"],children:[e.jsxs("div",{className:i["quiz-fin-stat-container"],style:{gridTemplateColumns:`repeat(${u?3:2}, 1fr)`},children:[e.jsxs("div",{className:i["quiz-fin-stat-coin"],children:[e.jsx("img",{src:g,alt:"[coinIcon]",width:"40px"}),e.jsxs("p",{children:["+",l," Koin"]})]}),e.jsxs("div",{className:i["quiz-fin-stat-accuracy"],children:[e.jsx("img",{src:A,alt:"[accuracyIcon]",width:"40px"}),e.jsxs("p",{children:[Math.round(m*100),"%"]})]}),u?e.jsxs("div",{className:i["quiz-fin-stat-lvl"],children:[e.jsx("img",{src:Q,alt:"[levelIcon]",width:"40px"}),e.jsx("p",{children:"Level Up!"})]}):null]}),e.jsx("button",{onClick:t,className:i["quiz-fin-btn"],children:"Selesai"})]})]})}export{J as default};
